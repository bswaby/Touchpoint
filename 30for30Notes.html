<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>30 for 30 - Ministry Tools Tracker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1em;
            margin-bottom: 5px;
        }

        .tagline {
            font-style: italic;
            opacity: 0.8;
            font-size: 1em;
        }

        .progress-bar {
            background: rgba(255, 255, 255, 0.2);
            height: 30px;
            border-radius: 15px;
            margin-top: 20px;
            overflow: hidden;
        }

        .progress-fill {
            background: rgba(255, 255, 255, 0.9);
            height: 100%;
            border-radius: 15px;
            width: 0%;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #667eea;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            padding: 20px;
            background: #f8f9fa;
            border-bottom: 1px solid #e0e0e0;
        }

        .stat {
            text-align: center;
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }

        .stat-label {
            color: #666;
            font-size: 0.9em;
            margin-top: 5px;
        }

        .tools-grid {
            padding: 30px;
            display: grid;
            gap: 15px;
        }

        .category-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin-top: 20px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .category-header.foundations {
            background: linear-gradient(135deg, #43cea2 0%, #185a9d 100%);
        }

        .category-header.people {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
        }

        .category-header.insights {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        }

        .category-header.optimization {
            background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%);
        }

        .category-header.financial {
            background: linear-gradient(135deg, #55a3ff 0%, #003d82 100%);
        }

        .category-header.admin {
            background: linear-gradient(135deg, #c471ed 0%, #f64f59 100%);
        }

        .category-header.specialized {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .category-title {
            font-size: 1.4em;
            font-weight: bold;
        }

        .category-info {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .tool-card {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
            position: relative;
        }

        .tool-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .tool-card.checked {
            border-color: #667eea;
            background: linear-gradient(to right, rgba(102, 126, 234, 0.05), rgba(118, 75, 162, 0.05));
        }

        .tool-card.starred {
            border-color: #ffd700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
        }

        .tool-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .tool-number {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
        }

        .tool-info {
            flex: 1;
            margin: 0 15px;
        }

        .tool-name {
            font-size: 1.2em;
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }

        .tool-description {
            color: #666;
            font-size: 0.95em;
        }

        .tool-impact {
            color: #667eea;
            font-size: 0.9em;
            font-weight: 500;
            margin-top: 5px;
        }

        .tool-actions {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .tool-checkbox {
            width: 25px;
            height: 25px;
            cursor: pointer;
            accent-color: #667eea;
        }

        .star-btn {
            background: none;
            border: none;
            font-size: 1.5em;
            cursor: pointer;
            transition: transform 0.2s;
            color: #ddd;
        }

        .star-btn:hover {
            transform: scale(1.2);
        }

        .star-btn.active {
            color: #ffd700;
        }

        .tool-notes {
            width: 100%;
            padding: 12px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            resize: vertical;
            min-height: 70px;
            font-family: inherit;
            font-size: 0.95em;
            transition: border-color 0.3s;
            margin-top: 10px;
        }

        .tool-notes:focus {
            outline: none;
            border-color: #667eea;
        }

        .action-buttons {
            padding: 30px;
            background: #f8f9fa;
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
        }

        .btn-secondary:hover {
            background: #667eea;
            color: white;
        }

        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #333;
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }

        @media (max-width: 600px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .tools-grid {
                padding: 15px;
            }
            
            .tool-name {
                font-size: 1em;
            }

            .tool-header {
                flex-direction: column;
                align-items: stretch;
                gap: 10px;
            }

            .tool-actions {
                justify-content: flex-end;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ 30 for 30 for Ministry</h1>
            <p>Ministry Tools Presentation Tracker</p>
            <p class="tagline">"What If I Told You‚Ä¶ I Didn't Set out to Build 30 Tools ‚Äì I Set Out to Build a Ministry?"</p>
            <p style="margin-top: 15px; opacity: 0.8; font-size: 0.95em;">
                Presented by <strong>Ben Swaby</strong> ‚Ä¢ bswaby@fbchtn.org
            </p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar">0%</div>
            </div>
        </div>

        <div class="stats">
            <div class="stat">
                <div class="stat-number" id="checkedCount">0</div>
                <div class="stat-label">Tools Reviewed</div>
            </div>
            <div class="stat">
                <div class="stat-number" id="starredCount">0</div>
                <div class="stat-label">Priority Tools</div>
            </div>
            <div class="stat">
                <div class="stat-number" id="notesCount">0</div>
                <div class="stat-label">Tools with Notes</div>
            </div>
            <div class="stat">
                <div class="stat-number" id="timeRemaining">75</div>
                <div class="stat-label">Minutes Total</div>
            </div>
        </div>

        <div class="tools-grid" id="toolsGrid">
            <!-- Tools will be generated here -->
        </div>

        <div class="action-buttons">
            <button class="btn btn-primary" onclick="exportResults()">
                üìã Copy Summary
            </button>
            <button class="btn btn-primary" onclick="emailResults()">
                üìß Email Summary
            </button>
            <button class="btn btn-secondary" onclick="downloadResults()">
                üìÑ Download Report
            </button>
            <button class="btn btn-secondary" onclick="markCategoryComplete()">
                ‚úÖ Mark Category Complete
            </button>
            <button class="btn btn-secondary" onclick="clearAll()">
                üîÑ Reset Tracker
            </button>
            <a href="https://github.com/bswaby/Touchpoint" target="_blank" class="btn btn-secondary">
                <svg style="width: 20px; height: 20px; vertical-align: middle; fill: currentColor;" viewBox="0 0 24 24">
                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
                View on GitHub
            </a>
        </div>
    </div>

    <div class="toast" id="toast"></div>

    <script>
        // Tools organized by presentation categories (countdown #30 to #1)
        const tools = [
            // üèõÔ∏è ORGANIZATIONAL FOUNDATIONS (#30-28)
            { 
                id: 30, 
                name: "Ministry Structure", 
                description: "Visual breakdown of programs, divisions, involvements, status, and types",
                impact: "Finally understand your data model - stop guessing where data should go",
                category: "foundations",
                time: 3
            },
            { 
                id: 29, 
                name: "Involvement Activity Dashboard", 
                description: "Activity scoring from most active to dormant involvements",
                impact: "Know when to hold 'em, know when to fold 'em - database cleanliness",
                category: "foundations",
                time: 3
            },
            { 
                id: 28, 
                name: "Membership Analysis", 
                description: "Deep insights into membership trends and demographics",
                impact: "Strategic planning based on actual membership patterns",
                category: "foundations",
                time: 3
            },

            // üë• PEOPLE & ENGAGEMENT (#27-20)
            { 
                id: 27, 
                name: "Weekly Attendance (WAAG 2.0)", 
                description: "Enhanced attendance reporting with period comparisons",
                impact: "Enrollment vs attendance metrics - know if you're growing or declining",
                category: "people",
                time: 2.5
            },
            { 
                id: 26, 
                name: "Geographic Distribution Map", 
                description: "Not just dots on a map - real people, real insight with census data",
                impact: "Smart outreach and community planning with demographic overlay",
                category: "people",
                time: 2.5
            },
            { 
                id: 25, 
                name: "Anniversaries Widget", 
                description: "Track marriages, work anniversaries, birthdays on your dashboard",
                impact: "Never miss important dates - consistent recognition and care",
                category: "people",
                time: 2
            },
            { 
                id: 24, 
                name: "Communication Dashboard", 
                description: "Email & SMS delivery performance and analytics",
                impact: "Find SMS issues, prevent duplicate messaging between ministries",
                category: "people",
                time: 2
            },
            { 
                id: 23, 
                name: "New Member Report", 
                description: "Comprehensive new member onboarding tracking",
                impact: "Ensure no one falls through the cracks during integration",
                category: "people",
                time: 2
            },
            { 
                id: 22, 
                name: "Emergency List", 
                description: "Critical contact and medical information management",
                impact: "Quick access to emergency info when it matters most",
                category: "people",
                time: 2
            },
            { 
                id: 21, 
                name: "Live Search", 
                description: "Advanced real-time member search with quick actions",
                impact: "Find anyone instantly with fuzzy search and direct actions",
                category: "people",
                time: 2.5
            },
            { 
                id: 20, 
                name: "User Activity", 
                description: "System usage analysis - who's using what, where, and how much",
                impact: "Understand actual usage patterns for better training and optimization",
                category: "people",
                time: 2.5
            },

            // üîç DISCOVERY & INSIGHTS (#19-15)
            { 
                id: 19, 
                name: "Lapsed Attenders", 
                description: "Statistical analysis using personal baselines vs church averages",
                impact: "They didn't ghost you, they just need a nudge - proactive pastoral care",
                category: "insights",
                time: 3
            },
            { 
                id: 18, 
                name: "Auxiliary to Group Analytics", 
                description: "Track how auxiliary programs drive attendance to Connect Groups",
                impact: "Measure which programs actually build ongoing community connections",
                category: "insights",
                time: 3
            },
            { 
                id: 17, 
                name: "Account Security Monitor", 
                description: "Advanced security analytics with threat intelligence",
                impact: "Sleep better knowing you'll catch security issues before they become problems",
                category: "insights",
                time: 3
            },
            { 
                id: 16, 
                name: "Email Technical Diagnostics", 
                description: "Comprehensive email troubleshooting and delivery analytics",
                impact: "The communication doctor - catch email issues before they become crises",
                category: "insights",
                time: 3
            },

            // üí° ENGAGEMENT OPTIMIZATION (#14-12)
            { 
                id: 15, 
                name: "TaskNote Activity Dashboard", 
                description: "Track task and note activities across your system",
                impact: "Monitor digital processes and understand how your team actually works",
                category: "optimization",
                time: 3
            },
            { 
                id: 14, 
                name: "QuickLinks Widget", 
                description: "Permission-based quick access with count overlays",
                impact: "Right tools for right people instantly - smart navigation",
                category: "optimization",
                time: 3
            },
            { 
                id: 13, 
                name: "Involvement Owner Audit", 
                description: "Quick audit of involvement ownership and leadership",
                impact: "Leadership transition made easy - essential for succession planning",
                category: "optimization",
                time: 3
            },

            // üí∞ FINANCIAL MANAGEMENT (#11-6)
            { 
                id: 12, 
                name: "Weekly Contribution Report", 
                description: "The finance team's primary tool for tracking and reporting",
                impact: "Work within TouchPoint, not around it - eliminated external manipulation",
                category: "financial",
                time: 2
            },
            { 
                id: 11, 
                name: "Involvement with Fees", 
                description: "Track and manage programs with associated fees",
                impact: "Clear fee structure across all ministries with payment integration",
                category: "financial",
                time: 2
            },
            { 
                id: 10, 
                name: "Payment Manager", 
                description: "Outstanding payment tracking with direct processing capabilities",
                impact: "Better cash flow through improved payment follow-up and collection",
                category: "financial",
                time: 2
            },
            { 
                id: 9, 
                name: "Deposit Report", 
                description: "Comprehensive deposit reconciliation and financial reporting",
                impact: "Clean financial records with proper audit trails for faster month-end",
                category: "financial",
                time: 2
            },
            { 
                id: 8, 
                name: "QCD-Grant Letters", 
                description: "Automated letter generation for windowed envelopes",
                impact: "2-3 hours/week ‚Üí 15 minutes with perfect envelope positioning",
                category: "financial",
                time: 2
            },
            { 
                id: 7, 
                name: "Fortis Fees", 
                description: "The 97% time savings champion - automated fee breakdown",
                impact: "6-8 hours/month ‚Üí 15 minutes - finance team wanted to cry tears of joy",
                category: "financial",
                time: 2
            },

            // üõ†Ô∏è ADMINISTRATIVE & SYSTEM TOOLS (#5-1)
            { 
                id: 6, 
                name: "Registration Export", 
                description: "Clean registration data export in structured formats",
                impact: "Get your data out of TouchPoint efficiently - no more spreadsheet chaos",
                category: "admin",
                time: 2
            },
            { 
                id: 5, 
                name: "Attachment Link Downloader", 
                description: "Bulk download all involvement registration attachments",
                impact: "No more clicking 400 links - 400 clicks ‚Üí 1 bulk operation",
                category: "admin",
                time: 2
            },
            { 
                id: 4, 
                name: "Involvement Sync", 
                description: "Automatic synchronization between primary and secondary involvements",
                impact: "Set-and-forget automation - never depends on human memory again",
                category: "admin",
                time: 2
            },
            { 
                id: 3, 
                name: "Link Generator", 
                description: "Pre-authenticated links for instant user access",
                impact: "Support hero's secret weapon - eliminate login friction for troubleshooting",
                category: "admin",
                time: 2
            },
            { 
                id: 2, 
                name: "TechStatus", 
                description: "System health monitoring - failed prints, login failures, performance",
                impact: "See system issues before users complain - IT peace of mind",
                category: "admin",
                time: 2
            },

            // üåç SPECIALIZED SOLUTIONS (#1 + Bonus)
            { 
                id: 1, 
                name: "FastLaneCheckIn", 
                description: "Large event check-in optimization for 100-2500+ attendees",
                impact: "60% faster check-ins with multiple stations - eliminated event bottlenecks",
                category: "specialized",
                time: 2
            },
            { 
                id: 0, 
                name: "Missions Dashboard", 
                description: "Comprehensive mission trip management system",
                impact: "Complete oversight: payments, background checks, passports, team management",
                category: "specialized",
                time: 2.5
            }
        ];

        // Category information
        const categories = {
            foundations: { 
                title: "üèõÔ∏è Organizational Foundations", 
                subtitle: "You can't build solutions on broken foundations",
                time: "9 minutes - Tools #30-28"
            },
            people: { 
                title: "üë• People & Engagement", 
                subtitle: "It's all about people",
                time: "18 minutes - Tools #27-20"
            },
            insights: { 
                title: "üîç Discovery & Insights", 
                subtitle: "You have reports, but do you have intelligence?",
                time: "12 minutes - Tools #19-16"
            },
            optimization: { 
                title: "üí° Engagement Optimization", 
                subtitle: "Work smarter, not harder",
                time: "9 minutes - Tools #15-13"
            },
            financial: { 
                title: "üí∞ Financial Management", 
                subtitle: "Every hour you save somebody is another hour for ministry",
                time: "12 minutes - Tools #12-7"
            },
            admin: { 
                title: "üõ†Ô∏è Administrative & System Tools", 
                subtitle: "The tools that make other tools possible",
                time: "10 minutes - Tools #6-2"
            },
            specialized: { 
                title: "üåç Specialized Solutions", 
                subtitle: "When standard tools aren't enough",
                time: "5 minutes - Tools #1 + Bonus"
            }
        };

        // Initialize state from localStorage
        let state = JSON.parse(localStorage.getItem('ministry30for30')) || {
            checked: {},
            starred: {},
            notes: {}
        };

        // Render tools with categories
        function renderTools() {
            const grid = document.getElementById('toolsGrid');
            let html = '';
            let currentCategory = '';
            
            // Sort tools by ID (descending for countdown)
            const sortedTools = [...tools].sort((a, b) => b.id - a.id);
            
            sortedTools.forEach(tool => {
                // Add category header if category changed
                if (tool.category !== currentCategory) {
                    currentCategory = tool.category;
                    const catInfo = categories[currentCategory];
                    if (catInfo) {
                        html += `
                            <div class="category-header ${currentCategory}">
                                <div>
                                    <div class="category-title">${catInfo.title}</div>
                                    <div class="category-info">${catInfo.subtitle}</div>
                                </div>
                                <div class="category-info">${catInfo.time}</div>
                            </div>
                        `;
                    }
                }
                
                html += `
                    <div class="tool-card ${state.checked[tool.id] ? 'checked' : ''} ${state.starred[tool.id] ? 'starred' : ''}" id="tool-${tool.id}">
                        <div class="tool-header">
                            <div class="tool-number">${tool.id === 0 ? 'B' : tool.id}</div>
                            <div class="tool-info">
                                <div class="tool-name">${tool.name}</div>
                                <div class="tool-description">${tool.description}</div>
                                <div class="tool-impact">üí° ${tool.impact}</div>
                            </div>
                            <div class="tool-actions">
                                <input type="checkbox" class="tool-checkbox" 
                                    ${state.checked[tool.id] ? 'checked' : ''}
                                    onchange="toggleCheck(${tool.id})" 
                                    title="Mark as reviewed" />
                                <button class="star-btn ${state.starred[tool.id] ? 'active' : ''}" 
                                    onclick="toggleStar(${tool.id})"
                                    title="Mark as priority">
                                    ${state.starred[tool.id] ? '‚≠ê' : '‚òÜ'}
                                </button>
                            </div>
                        </div>
                        <textarea class="tool-notes" 
                            placeholder="Add your implementation notes, questions, or ideas..."
                            onchange="updateNotes(${tool.id}, this.value)">${state.notes[tool.id] || ''}</textarea>
                    </div>
                `;
            });
            
            grid.innerHTML = html;
            updateStats();
        }

        // Toggle check
        function toggleCheck(id) {
            state.checked[id] = !state.checked[id];
            saveState();
            document.getElementById(`tool-${id}`).classList.toggle('checked');
            updateStats();
            const toolName = tools.find(t => t.id === id)?.name || `Tool #${id}`;
            showToast(`${toolName} ${state.checked[id] ? 'reviewed ‚úÖ' : 'unmarked'}`);
        }

        // Toggle star
        function toggleStar(id) {
            state.starred[id] = !state.starred[id];
            saveState();
            const card = document.getElementById(`tool-${id}`);
            const btn = card.querySelector('.star-btn');
            card.classList.toggle('starred');
            btn.classList.toggle('active');
            btn.textContent = state.starred[id] ? '‚≠ê' : '‚òÜ';
            updateStats();
            const toolName = tools.find(t => t.id === id)?.name || `Tool #${id}`;
            showToast(`${toolName} ${state.starred[id] ? 'marked as priority ‚≠ê' : 'removed from priority'}`);
        }

        // Update notes
        function updateNotes(id, value) {
            if (value.trim()) {
                state.notes[id] = value;
            } else {
                delete state.notes[id];
            }
            saveState();
            updateStats();
        }

        // Save state to localStorage
        function saveState() {
            localStorage.setItem('ministry30for30', JSON.stringify(state));
        }

        // Update statistics
        function updateStats() {
            const checkedCount = Object.keys(state.checked).filter(k => state.checked[k]).length;
            const starredCount = Object.keys(state.starred).filter(k => state.starred[k]).length;
            const notesCount = Object.keys(state.notes).filter(k => state.notes[k] && state.notes[k].trim()).length;
            
            document.getElementById('checkedCount').textContent = checkedCount;
            document.getElementById('starredCount').textContent = starredCount;
            document.getElementById('notesCount').textContent = notesCount;
            
            const progress = Math.round((checkedCount / tools.length) * 100);
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = `${progress}%`;
            progressBar.textContent = `${progress}%`;
        }

        // Export results
        function exportResults() {
            const checkedTools = tools.filter(t => state.checked[t.id]);
            const starredTools = tools.filter(t => state.starred[t.id]);
            
            let text = 'üöÄ 30 for 30 for Ministry - Tools Summary\n';
            text += '"What If I Told You‚Ä¶ I Didn\'t Set out to Build 30 Tools ‚Äì I Set Out to Build a Ministry?"\n';
            text += 'Presented by Ben Swaby (bswaby@fbchtn.org)\n';
            text += `Generated: ${new Date().toLocaleString()}\n\n`;
            
            text += `üìä PROGRESS SUMMARY:\n`;
            text += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            text += `‚úÖ Tools Reviewed: ${checkedTools.length}/31\n`;
            text += `‚≠ê Priority Tools: ${starredTools.length}\n`;
            text += `üìù Tools with Notes: ${Object.keys(state.notes).length}\n\n`;
            
            if (starredTools.length > 0) {
                text += '‚≠ê PRIORITY TOOLS FOR IMPLEMENTATION:\n';
                text += '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n';
                starredTools.forEach(t => {
                    const displayId = t.id === 0 ? 'Bonus' : `#${t.id}`;
                    text += `\n${displayId} - ${t.name}\n`;
                    text += `   üí° ${t.impact}\n`;
                    if (state.notes[t.id]) {
                        text += `   üìù Notes: ${state.notes[t.id]}\n`;
                    }
                });
                text += '\n';
            }
            
            const toolsWithNotes = tools.filter(t => state.notes[t.id] && !state.starred[t.id]);
            if (toolsWithNotes.length > 0) {
                text += '\nüìù OTHER TOOLS WITH NOTES:\n';
                text += '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n';
                toolsWithNotes.forEach(t => {
                    const displayId = t.id === 0 ? 'Bonus' : `#${t.id}`;
                    text += `\n${displayId} - ${t.name}\n`;
                    text += `   üìù Notes: ${state.notes[t.id]}\n`;
                });
            }
            
            text += '\n\nüîó RESOURCES & CONTACT:\n';
            text += '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n';
            text += 'üìö Documentation: https://bswaby.github.io/Touchpoint/\n';
            text += 'üîó GitHub Repository: https://github.com/bswaby/Touchpoint\n';
            text += 'üìß Contact Ben Swaby: bswaby@fbchtn.org\n';
            text += 'üí¨ Custom Development: Available for TouchPoint projects\n';
            
            // Copy to clipboard
            navigator.clipboard.writeText(text).then(() => {
                showToast('üìã Summary copied to clipboard! Paste it anywhere.');
            }).catch(() => {
                // Fallback for older browsers
                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                showToast('üìã Summary copied to clipboard!');
            });
        }

        // Email results
        function emailResults() {
            const checkedTools = tools.filter(t => state.checked[t.id]);
            const starredTools = tools.filter(t => state.starred[t.id]);
            
            let subject = '30 for 30 for Ministry - My Implementation Plan';
            
            let body = 'üöÄ 30 for 30 for Ministry - Tools Summary%0D%0A';
            body += '"What If I Told You‚Ä¶ I Didn\'t Set out to Build 30 Tools ‚Äì I Set Out to Build a Ministry?"%0D%0A';
            body += 'Presented by Ben Swaby (bswaby@fbchtn.org)%0D%0A';
            body += `Generated: ${new Date().toLocaleString()}%0D%0A%0D%0A`;
            
            body += `üìä PROGRESS SUMMARY:%0D%0A`;
            body += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ%0D%0A`;
            body += `‚úÖ Tools Reviewed: ${checkedTools.length}/31%0D%0A`;
            body += `‚≠ê Priority Tools: ${starredTools.length}%0D%0A`;
            body += `üìù Tools with Notes: ${Object.keys(state.notes).length}%0D%0A%0D%0A`;
            
            if (starredTools.length > 0) {
                body += '‚≠ê PRIORITY TOOLS FOR IMPLEMENTATION:%0D%0A';
                body += '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ%0D%0A';
                starredTools.forEach(t => {
                    const displayId = t.id === 0 ? 'Bonus' : `#${t.id}`;
                    body += `%0D%0A${displayId} - ${encodeURIComponent(t.name)}%0D%0A`;
                    body += `   üí° ${encodeURIComponent(t.impact)}%0D%0A`;
                    if (state.notes[t.id]) {
                        body += `   üìù Notes: ${encodeURIComponent(state.notes[t.id])}%0D%0A`;
                    }
                });
                body += '%0D%0A';
            }
            
            const toolsWithNotes = tools.filter(t => state.notes[t.id] && !state.starred[t.id]);
            if (toolsWithNotes.length > 0) {
                body += '%0D%0Aüìù OTHER TOOLS WITH NOTES:%0D%0A';
                body += '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ%0D%0A';
                toolsWithNotes.forEach(t => {
                    const displayId = t.id === 0 ? 'Bonus' : `#${t.id}`;
                    body += `%0D%0A${displayId} - ${encodeURIComponent(t.name)}%0D%0A`;
                    body += `   üìù Notes: ${encodeURIComponent(state.notes[t.id])}%0D%0A`;
                });
            }
            
            body += '%0D%0A%0D%0Aüîó RESOURCES & CONTACT:%0D%0A';
            body += '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ%0D%0A';
            body += 'üìö Documentation: https://bswaby.github.io/Touchpoint/%0D%0A';
            body += 'üîó GitHub Repository: https://github.com/bswaby/Touchpoint%0D%0A';
            body += 'üìß Contact Ben Swaby: bswaby@fbchtn.org%0D%0A';
            body += 'üí¨ Custom Development: Available for TouchPoint projects%0D%0A';
            
            // Create mailto link
            const mailtoLink = `mailto:?subject=${encodeURIComponent(subject)}&body=${body}`;
            
            // Try to open email client
            try {
                window.location.href = mailtoLink;
                showToast('üìß Opening email client with your summary...');
            } catch (error) {
                // Fallback: copy to clipboard
                exportResults();
                showToast('üìß Email failed to open - summary copied to clipboard instead');
            }
        }

        // Download as HTML report
        function downloadResults() {
            const checkedTools = tools.filter(t => state.checked[t.id]);
            const starredTools = tools.filter(t => state.starred[t.id]);
            
            let html = `<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>30 for 30 for Ministry - Implementation Plan</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 900px;
            margin: 40px auto;
            padding: 20px;
            background: #f5f5f5;
            line-height: 1.6;
        }
        .container {
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        h1 {
            color: #667eea;
            border-bottom: 3px solid #667eea;
            padding-bottom: 15px;
            margin-bottom: 10px;
            font-size: 2.2em;
        }
        .tagline {
            color: #666;
            font-style: italic;
            margin-bottom: 30px;
            font-size: 1.1em;
        }
        h2 {
            color: #764ba2;
            margin-top: 40px;
            margin-bottom: 20px;
            font-size: 1.5em;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        .stat {
            text-align: center;
        }
        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
        }
        .stat-label {
            color: #666;
            font-size: 0.9em;
        }
        .tool {
            background: #f8f9fa;
            border-left: 5px solid #667eea;
            margin: 20px 0;
            padding: 20px;
            border-radius: 8px;
        }
        .tool.priority {
            border-left-color: #ffd700;
            background: #fffdf0;
        }
        .tool-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 10px;
        }
        .tool-number {
            background: #667eea;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        .tool.priority .tool-number {
            background: #ffd700;
            color: #333;
        }
        .tool-name {
            font-weight: bold;
            font-size: 1.2em;
            color: #333;
        }
        .tool-impact {
            color: #667eea;
            font-weight: 500;
            margin: 8px 0;
        }
        .tool-notes {
            color: #555;
            margin-top: 12px;
            padding: 15px;
            background: white;
            border-radius: 5px;
            border: 1px solid #e0e0e0;
        }
        .meta {
            color: #999;
            font-size: 0.9em;
            margin-bottom: 25px;
        }
        .resources {
            margin-top: 40px;
            padding: 25px;
            background: #667eea;
            color: white;
            border-radius: 10px;
            text-align: center;
        }
        .resources a {
            color: white;
            text-decoration: none;
            font-weight: bold;
            margin: 0 15px;
            padding: 8px 16px;
            background: rgba(255,255,255,0.2);
            border-radius: 5px;
            display: inline-block;
            margin-top: 10px;
        }
        .resources a:hover {
            background: rgba(255,255,255,0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ 30 for 30 for Ministry</h1>
        <div class="tagline">"What If I Told You‚Ä¶ I Didn't Set out to Build 30 Tools ‚Äì I Set Out to Build a Ministry?"</div>
        <div style="color: #667eea; font-weight: 500; margin-bottom: 20px;">
            Presented by <strong>Ben Swaby</strong> ‚Ä¢ bswaby@fbchtn.org
        </div>
        <div class="meta">Implementation Plan Generated: ${new Date().toLocaleString()}</div>
        
        <div class="stats-grid">
            <div class="stat">
                <div class="stat-number">${checkedTools.length}</div>
                <div class="stat-label">Tools Reviewed</div>
            </div>
            <div class="stat">
                <div class="stat-number">${starredTools.length}</div>
                <div class="stat-label">Priority Tools</div>
            </div>
            <div class="stat">
                <div class="stat-number">${Object.keys(state.notes).length}</div>
                <div class="stat-label">Tools with Notes</div>
            </div>
            <div class="stat">
                <div class="stat-number">${Math.round((checkedTools.length / tools.length) * 100)}%</div>
                <div class="stat-label">Progress Complete</div>
            </div>
        </div>`;
            
            if (starredTools.length > 0) {
                html += `<h2>‚≠ê Priority Tools for Implementation</h2>`;
                starredTools.forEach(t => {
                    const displayId = t.id === 0 ? 'Bonus' : t.id;
                    html += `
        <div class="tool priority">
            <div class="tool-header">
                <div class="tool-number">${displayId}</div>
                <div class="tool-name">${t.name}</div>
            </div>
            <div>${t.description}</div>
            <div class="tool-impact">üí° ${t.impact}</div>`;
                    if (state.notes[t.id]) {
                        html += `<div class="tool-notes">üìù <strong>Implementation Notes:</strong><br>${state.notes[t.id]}</div>`;
                    }
                    html += `</div>`;
                });
            }
            
            const otherNotedTools = tools.filter(t => state.notes[t.id] && !state.starred[t.id]);
            if (otherNotedTools.length > 0) {
                html += `<h2>üìù Other Tools with Notes</h2>`;
                otherNotedTools.forEach(t => {
                    const displayId = t.id === 0 ? 'Bonus' : t.id;
                    html += `
        <div class="tool">
            <div class="tool-header">
                <div class="tool-number">${displayId}</div>
                <div class="tool-name">${t.name}</div>
            </div>
            <div>${t.description}</div>
            <div class="tool-impact">üí° ${t.impact}</div>
            <div class="tool-notes">üìù <strong>Notes:</strong><br>${state.notes[t.id]}</div>
        </div>`;
                });
            }
            
            html += `
        <div class="resources">
            <h3>üîó Next Steps & Resources</h3>
            <p>Ready to implement these Kingdom-building tools?</p>
            <a href="https://bswaby.github.io/Touchpoint/">üìö View Documentation</a>
            <a href="https://github.com/bswaby/Touchpoint">üîó Access GitHub</a>
            <a href="mailto:bswaby@fbchtn.org">üìß Contact Ben Swaby</a>
            <br><br>
            <p style="font-size: 0.9em; opacity: 0.9;">
                Custom TouchPoint development available ‚Ä¢ bswaby@fbchtn.org
            </p>
            <p style="font-size: 0.9em; opacity: 0.9;">
                "God calls us to build His Kingdom in every way we can‚Äîincluding through technology."
            </p>
        </div>
    </div>
</body>
</html>`;
            
            const blob = new Blob([html], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `30for30-ministry-tools-plan.html`;
            a.click();
            URL.revokeObjectURL(url);
            
            showToast('üìÑ Implementation plan downloaded!');
        }

        // Mark all tools in current category as complete
        function markCategoryComplete() {
            const categories = ['foundations', 'people', 'insights', 'optimization', 'financial', 'admin', 'specialized'];
            const categoryNames = {
                foundations: "Organizational Foundations",
                people: "People & Engagement", 
                insights: "Discovery & Insights",
                optimization: "Engagement Optimization",
                financial: "Financial Management",
                admin: "Administrative & System Tools",
                specialized: "Specialized Solutions"
            };
            
            let html = '<p>Select a category to mark all its tools as reviewed:</p>';
            categories.forEach(cat => {
                const toolsInCat = tools.filter(t => t.category === cat);
                const checkedInCat = toolsInCat.filter(t => state.checked[t.id]).length;
                html += `<button onclick="markAllInCategory('${cat}')" style="display: block; width: 100%; margin: 5px 0; padding: 10px; background: #667eea; color: white; border: none; border-radius: 5px; cursor: pointer;">
                    ${categoryNames[cat]} (${checkedInCat}/${toolsInCat.length} reviewed)
                </button>`;
            });
            
            // Create a modal-like experience
            const overlay = document.createElement('div');
            overlay.style.cssText = `
                position: fixed; top: 0; left: 0; right: 0; bottom: 0; 
                background: rgba(0,0,0,0.7); z-index: 2000; 
                display: flex; align-items: center; justify-content: center;
            `;
            
            overlay.innerHTML = `
                <div style="background: white; padding: 30px; border-radius: 15px; max-width: 500px; width: 90%;">
                    <h3 style="margin-top: 0;">Mark Category Complete</h3>
                    ${html}
                    <button onclick="this.closest('div').parentElement.remove()" 
                            style="margin-top: 15px; padding: 8px 15px; background: #ccc; border: none; border-radius: 5px; cursor: pointer;">
                        Cancel
                    </button>
                </div>
            `;
            
            document.body.appendChild(overlay);
        }

        // Mark all tools in a category as checked
        function markAllInCategory(category) {
            const toolsInCategory = tools.filter(t => t.category === category);
            let marked = 0;
            
            toolsInCategory.forEach(tool => {
                if (!state.checked[tool.id]) {
                    state.checked[tool.id] = true;
                    marked++;
                }
            });
            
            saveState();
            renderTools();
            
            // Remove the modal
            document.querySelector('div[style*="position: fixed"]').remove();
            
            showToast(`‚úÖ Marked ${marked} tools complete in category!`);
        }

        // Clear all data
        function clearAll() {
            if (confirm('Are you sure you want to reset all your progress and notes?\n\nThis cannot be undone.')) {
                state = { checked: {}, starred: {}, notes: {} };
                saveState();
                renderTools();
                showToast('üîÑ Tracker reset successfully');
            }
        }

        // Show toast notification
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Initialize on load
        renderTools();
    </script>
</body>
</html>
